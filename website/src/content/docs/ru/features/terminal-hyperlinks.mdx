---
title: Терминальные гиперссылки
description: Кликабельные OSC 8 гиперссылки в терминальном выводе с автоматическим определением
---

import { Aside } from '@astrojs/starlight/components';

Claudex поддерживает терминальные гиперссылки OSC 8, делая пути к файлам, URL и ссылки в выводе Claude Code кликабельными в поддерживаемых терминалах.

## Обзор

OSC 8 — это стандарт escape-последовательностей терминала, встраивающий гиперссылки непосредственно в терминальный вывод. При поддержке клик по ссылке открывает её в обработчике по умолчанию (браузер для URL, редактор для путей к файлам).

Формат escape-последовательности:

```
\x1b]8;;URL\x07DISPLAY_TEXT\x1b]8;;\x07
```

## Конфигурация

```toml
# В config.toml (глобальная настройка)
hyperlinks = "auto"    # "auto" | true | false
```

| Значение | Поведение |
|----------|-----------|
| `"auto"` | Автоматическое определение поддержки терминала (по умолчанию) |
| `true` | Принудительное включение гиперссылок |
| `false` | Принудительное отключение гиперссылок |

Вы также можете включить гиперссылки для конкретной сессии через флаг CLI:

```bash
claudex run grok --hyperlinks
```

## Определение терминала

Когда `hyperlinks = "auto"`, Claudex проверяет следующее по порядку:

| Приоритет | Проверка | Результат |
|-----------|---------|-----------|
| 1 | Переменная окружения `FORCE_HYPERLINKS=1` | Включить |
| 2 | Не TTY | Отключить |
| 3 | Переменная окружения `DOMTERM` установлена | Включить |
| 4 | `TERM_PROGRAM` = iTerm.app | Включить |
| 5 | `TERM_PROGRAM` = WezTerm | Включить |
| 6 | `TERM_PROGRAM` = vscode | Включить |
| 7 | `TERM_PROGRAM` = Tabby | Включить |
| 8 | `TERM_PROGRAM` = Hyper | Включить |
| 9 | `TERM_PROGRAM` = mintty | Включить |
| 10 | `TERM_PROGRAM` = WarpTerminal | Включить |
| 11 | `TERM` = xterm-kitty | Включить |
| 12 | `TERM` = xterm-ghostty | Включить |
| 13 | `VTE_VERSION` >= 5000 | Включить |
| 14 | Переменная окружения `WT_SESSION` установлена (Windows Terminal) | Включить |
| 15 | Ни одно из вышеперечисленного | Отключить (безопасное значение по умолчанию) |

<Aside type="note">
  VTE_VERSION >= 5000 охватывает GNOME Terminal (3.68+), xfce4-terminal и другие терминалы на базе VTE.
</Aside>

## Поддерживаемые терминалы

| Терминал | Платформа | Метод определения |
|----------|----------|------------------|
| iTerm2 | macOS | `TERM_PROGRAM` |
| WezTerm | Кроссплатформенный | `TERM_PROGRAM` |
| Kitty | Кроссплатформенный | `TERM` (xterm-kitty) |
| Ghostty | Кроссплатформенный | `TERM` (xterm-ghostty) |
| VS Code Terminal | Кроссплатформенный | `TERM_PROGRAM` |
| Windows Terminal | Windows | `WT_SESSION` |
| GNOME Terminal | Linux | `VTE_VERSION` |
| Tabby | Кроссплатформенный | `TERM_PROGRAM` |
| Hyper | Кроссплатформенный | `TERM_PROGRAM` |
| mintty (Git Bash) | Windows | `TERM_PROGRAM` |
| WarpTerminal | macOS | `TERM_PROGRAM` |
| DomTerm | Кроссплатформенный | `DOMTERM` |

## Режим PTY-прокси

Когда гиперссылки включены на Unix-системах, Claudex запускает процесс Claude Code под PTY (псевдотерминалом) прокси. Это позволяет Claudex перехватывать и дополнять терминальный вывод гиперссылками, сохраняя полноценный терминальный опыт (цвета, перемещение курсора и т.д.).

PTY-прокси прозрачен для пользователя. Он активируется только для интерактивных сессий (неинтерактивный режим с `--print` пропускает PTY).

<Aside type="tip">
  Если вы столкнулись с проблемами отрисовки терминала, вы можете отключить гиперссылки через `hyperlinks = false` в конфигурации или не указывая флаг `--hyperlinks`.
</Aside>

## Принудительное включение/отключение

Для терминалов, отсутствующих в списке автоопределения, вы можете принудительно включить гиперссылки:

```bash
# Через переменную окружения
FORCE_HYPERLINKS=1 claudex run grok

# Через конфигурацию
hyperlinks = true

# Через флаг CLI
claudex run grok --hyperlinks
```

Для принудительного отключения (например, при пайпинге вывода):

```toml
hyperlinks = false
```
