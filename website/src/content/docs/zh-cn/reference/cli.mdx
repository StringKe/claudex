---
title: CLI 命令参考
description: Claudex CLI 完整命令参考
---

## 全局用法

```
claudex [OPTIONS] [COMMAND]
```

| 选项 | 说明 |
|------|------|
| `--config <PATH>` | 覆盖配置文件路径 |
| `--version` | 输出版本号 |
| `--help` | 输出帮助信息 |

不带命令运行时，如果已配置 profile 则启动 TUI 仪表盘，否则显示欢迎信息。

## 命令

### `run`

使用指定的提供商 profile 运行 Claude Code。

```bash
claudex run <PROFILE> [PROMPT] [OPTIONS] [-- ARGS...]
```

| 参数/选项 | 说明 |
|-----------|------|
| `PROFILE` | Profile 名称，或 `auto` 启用智能路由 |
| `PROMPT` | 可选的 prompt，用于非交互（一次性）执行 |
| `-m, --model MODEL` | 临时覆盖默认模型 |
| `--hyperlinks` | 强制启用 OSC 8 终端超链接 |
| `--print` | 输出响应后退出（非交互模式） |
| `--dangerously-skip-permissions` | 跳过所有权限提示（配合 `--print` 用于 CI/CD） |
| `ARGS...` | 传递给 `claude` 的额外参数（在 `--` 之后） |

```bash
# 使用 Grok（交互模式）
claudex run grok

# 指定模型
claudex run grok -m grok-3-mini-beta

# 智能路由
claudex run auto

# 强制启用终端超链接
claudex run grok --hyperlinks

# 非交互一次性执行
claudex run grok "Explain this codebase" --print

# CI/CD 流水线用法（无提示、无权限确认）
claudex run grok "Fix lint errors" --print --dangerously-skip-permissions

# 传递额外参数给 claude
claudex run grok -- --verbose
```

### `profile`

管理提供商 profile。

#### `profile list`

```bash
claudex profile list
```

列出所有已配置的 profile 及其状态、提供商类型和模型。

#### `profile add`

```bash
claudex profile add
```

交互式向导，引导完成提供商选择、API 密钥输入（可选密钥链存储）、模型选择和连通性测试。

#### `profile show`

```bash
claudex profile show <NAME>
```

显示指定 profile 的详细信息，包括所有配置字段。

#### `profile remove`

```bash
claudex profile remove <NAME>
```

从配置中移除 profile。

#### `profile test`

```bash
claudex profile test <NAME|all>
```

测试指定 profile 或所有 profile 的连通性。向提供商的 `/models` 端点发送轻量请求。

### `auth`

管理提供商 profile 的 OAuth 订阅认证。

#### `auth login`

```bash
claudex auth login <PROVIDER> [OPTIONS]
```

| 选项 | 说明 |
|------|------|
| `--profile <NAME>` | 关联到特定 profile |
| `--enterprise-url <URL>` | 自定义企业服务器 URL（用于自托管 GitLab 等） |
| `--headless` | 使用无界面（Device Code）流程，跳过浏览器启动 |

使用 OAuth 登录指定提供商。支持的提供商：`claude`、`openai`、`google`、`qwen`、`kimi`、`github`、`gitlab`。

```bash
# 登录 OpenAI（从 Codex CLI 读取）
claudex auth login openai --profile codex-sub

# 登录 Claude（从 ~/.claude 读取）
claudex auth login claude

# 登录 Google
claudex auth login google --profile gemini-sub

# 使用企业 URL 登录 GitLab
claudex auth login gitlab --enterprise-url https://gitlab.mycompany.com

# 无界面模式（无浏览器，仅 Device Code）
claudex auth login github --headless
```

#### `auth status`

```bash
claudex auth status [PROVIDER]
```

显示当前认证状态。不指定提供商时，显示所有已配置 OAuth profile 的状态。

```bash
# 检查所有 OAuth profile
claudex auth status

# 检查特定提供商
claudex auth status openai
```

#### `auth refresh`

```bash
claudex auth refresh <PROVIDER>
```

手动刷新指定提供商的 OAuth token。token 过期时代理也会自动刷新。

#### `auth logout`

```bash
claudex auth logout <PROVIDER>
```

从系统密钥链中移除指定提供商的已存储 OAuth token。

### `proxy`

管理翻译代理服务器。

#### `proxy start`

```bash
claudex proxy start [OPTIONS]
```

| 参数 | 说明 |
|------|------|
| `-p, --port PORT` | 覆盖代理端口（默认：配置文件中的值） |
| `-d, --daemon` | 以后台守护进程运行 |

#### `proxy stop`

```bash
claudex proxy stop
```

停止代理守护进程（通过 PID 文件发送 SIGTERM）。

#### `proxy status`

```bash
claudex proxy status
```

显示代理是否运行及监听端口。

### `dashboard`

```bash
claudex dashboard
```

启动 TUI 仪表盘，实时监控和快速启动。

### `config`

管理配置文件。

#### `config show`

```bash
claudex config show
```

显示已加载的配置文件路径、搜索顺序和当前配置值。

#### `config path`

```bash
claudex config path
```

仅输出解析后的配置文件路径。

#### `config init`

```bash
claudex config init
```

从内置模板在当前目录创建新配置文件。

#### `config recreate`

```bash
claudex config recreate
```

从 `config.example.toml` 重新创建配置文件，覆盖现有配置。

#### `config edit`

```bash
claudex config edit
```

在 `$EDITOR`（或 `$VISUAL`）中打开配置文件。

#### `config validate`

```bash
claudex config validate
```

验证配置语法、profile 引用（backup_providers、路由规则）和 OAuth 提供商设置。报告错误和警告。

#### `config get`

```bash
claudex config get <KEY>
```

通过键路径获取特定配置值（例如 `proxy_port`、`profiles.0.name`）。

#### `config set`

```bash
claudex config set <KEY> <VALUE>
```

通过键路径设置特定配置值。

#### `config export`

```bash
claudex config export
```

将当前合并后的配置以 TOML 格式导出到标准输出。

### `sets`

管理配置集（可安装的规则、技能和 MCP 服务器包）。

#### `sets add`

```bash
claudex sets add <PATH>
```

从包含 `manifest.json`（或 `manifest.yaml`）的本地目录安装配置集。

#### `sets remove`

```bash
claudex sets remove <NAME>
```

按名称移除已安装的配置集。

#### `sets list`

```bash
claudex sets list
```

列出所有已安装的配置集及其版本、描述和组件摘要。

#### `sets update`

```bash
claudex sets update <NAME> <PATH>
```

从新的清单路径更新已有的配置集。

#### `sets show`

```bash
claudex sets show <NAME>
```

显示已安装配置集的详细信息，包括所有组件。

### `update`

```bash
claudex update [OPTIONS]
```

| 参数 | 说明 |
|------|------|
| `--check` | 仅检查更新，不安装 |

不带 `--check` 时，从 GitHub Releases 下载并安装最新版本。
