---
title: Inteligentne trasowanie
description: Automatyczne trasowanie dostawcy oparte na intencjach
---

import { Aside } from '@astrojs/starlight/components';

Inteligentne trasowanie automatycznie wybiera najlepszego dostawce dla kazdego zadania na podstawie klasyfikacji intencji. Uzyj `claudex run auto`, aby je aktywowac.

## Jak to dziala

1. Uzytkownik uruchamia `claudex run auto`
2. Claude Code wysyla zadanie do proxy
3. Proxy wyodrebnia wiadomosc uzytkownika i wysyla ja do lokalnego klasyfikatora (np. Ollama)
4. Klasyfikator zwraca kategorie intencji (code, analysis, creative, search, math)
5. Reguly trasowania mapuja intencje na optymalny profil dostawcy
6. Zadanie jest przekazywane do wybranego dostawcy

## Konfiguracja

```toml
[router]
enabled = true
profile = "local-qwen"      # ponowne uzycie base_url + api_key profilu do klasyfikacji
model = "qwen2.5:3b"        # nadpisanie modelu (opcjonalne, domyslnie default_model profilu)

[router.rules]
code = "deepseek"       # zadania programistyczne → DeepSeek
analysis = "grok"       # zadania analityczne → Grok
creative = "chatgpt"    # pisanie kreatywne → ChatGPT
search = "kimi"         # wyszukiwanie/badania → Kimi
math = "deepseek"       # matematyka/logika → DeepSeek
default = "grok"        # zapasowy dla niesklasyfikowanych
```

## Kategorie intencji

| Intencja | Opis | Przykladowe zadania |
|----------|------|---------------------|
| `code` | Programowanie i generowanie kodu | Napisz funkcje, napraw blad, refaktoryzuj kod |
| `analysis` | Analiza danych i rozumowanie | Analizuj logi, porownaj podejscia, wyjasnij koncepcje |
| `creative` | Pisanie kreatywne i generowanie pomyslow | Napisz dokumentacje, wymyslaj nazwy, redaguj e-maile |
| `search` | Wyszukiwanie informacji | Znajdz dokumentacje API, wyszukaj kody bledow |
| `math` | Zadania matematyczne i logiczne | Oblicz zlozonosc, udowodnij poprawnosc |

<Aside type="note">
  Inteligentne trasowanie wymaga uslugi LLM do klasyfikacji intencji. Ponownie uzywa `base_url` i `api_key` istniejacego profilu. Model klasyfikatora powinien byc maly i szybki — `qwen2.5:3b` dziala dobrze.
</Aside>

## Uzycie

```bash
# Uruchom z inteligentnym trasowaniem
claudex run auto

# Nadpisz model nawet przy automatycznym trasowaniu
claudex run auto -m grok-3-mini-beta
```
