---
title: Inteligentne trasowanie
description: Automatyczne trasowanie dostawcy oparte na intencjach
---

import { Aside } from '@astrojs/starlight/components';

Inteligentne trasowanie automatycznie wybiera najlepszego dostawcę dla każdego żądania na podstawie klasyfikacji intencji. Użyj `claudex run auto`, aby je aktywować.

## Jak to działa

1. Użytkownik uruchamia `claudex run auto`
2. Claude Code wysyła żądanie do proxy
3. Proxy wyodrębnia wiadomość użytkownika i wysyła ją do lokalnego klasyfikatora (np. Ollama)
4. Klasyfikator zwraca kategorię intencji (code, analysis, creative, search, math)
5. Reguły trasowania mapują intencję na optymalny profil dostawcy
6. Żądanie jest przekazywane do wybranego dostawcy

## Konfiguracja

```toml
[router]
enabled = true
profile = "local-qwen"      # ponowne użycie base_url + api_key profilu do klasyfikacji
model = "qwen2.5:3b"        # nadpisanie modelu (opcjonalne, domyślnie default_model profilu)

[router.rules]
code = "deepseek"       # zadania programistyczne → DeepSeek
analysis = "grok"       # zadania analityczne → Grok
creative = "chatgpt"    # pisanie kreatywne → ChatGPT
search = "kimi"         # wyszukiwanie/badania → Kimi
math = "deepseek"       # matematyka/logika → DeepSeek
default = "grok"        # zapasowy dla niesklasyfikowanych
```

## Kategorie intencji

| Intencja | Opis | Przykładowe zadania |
|----------|------|---------------------|
| `code` | Programowanie i generowanie kodu | Napisz funkcję, napraw błąd, refaktoryzuj kod |
| `analysis` | Analiza danych i rozumowanie | Analizuj logi, porównaj podejścia, wyjaśnij koncepcje |
| `creative` | Pisanie kreatywne i generowanie pomysłów | Napisz dokumentację, wymyślaj nazwy, redaguj e-maile |
| `search` | Wyszukiwanie informacji | Znajdź dokumentację API, wyszukaj kody błędów |
| `math` | Zadania matematyczne i logiczne | Oblicz złożoność, udowodnij poprawność |

<Aside type="note">
  Inteligentne trasowanie wymaga usługi LLM do klasyfikacji intencji. Ponownie używa `base_url` i `api_key` istniejącego profilu. Model klasyfikatora powinien być mały i szybki — `qwen2.5:3b` działa dobrze.
</Aside>

## Użycie

```bash
# Uruchom z inteligentnym trasowaniem
claudex run auto

# Nadpisz model nawet przy automatycznym trasowaniu
claudex run auto -m grok-3-mini-beta
```
